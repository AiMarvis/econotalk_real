<div class="container mx-auto px-4 py-8 max-w-7xl">
  <!-- Header Section -->
  <div class="flex items-center justify-between mb-8">
    <div class="space-y-1">
      <h1 class="text-2xl font-bold tracking-tight" style="color: #1A202C;">
        콘텐츠 관리
      </h1>
      <p class="text-sm" style="color: #718096;">
        경제 콘텐츠를 관리하고 공유하세요
      </p>
    </div>
    
    <%= link_to new_content_path, 
        class: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2",
        style: "background-color: #0052CC; color: #FFFFFF; --tw-ring-color: #0052CC;" do %>
      <%= icon('plus', class: 'h-4 w-4 mr-2') %>
      새 콘텐츠 작성
    <% end %>
  </div>

  <!-- Stats Section -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
    <div class="rounded-lg border p-4" style="border-color: #E2E8F0; background-color: #FFFFFF;">
      <div class="flex items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium" style="color: #718096;">전체 콘텐츠</h3>
        <%= icon('file-text', class: 'h-4 w-4', style: 'color: #718096;') %>
      </div>
      <div class="text-2xl font-bold" style="color: #1A202C;"><%= @contents.count %></div>
    </div>
    
    <div class="rounded-lg border p-4" style="border-color: #E2E8F0; background-color: #FFFFFF;">
      <div class="flex items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium" style="color: #718096;">컬럼/기사</h3>
        <%= icon('article', class: 'h-4 w-4', style: 'color: #718096;') %>
      </div>
      <div class="text-2xl font-bold" style="color: #1A202C;"><%= @contents.where(content_type: 'column').count %></div>
    </div>
    
    <div class="rounded-lg border p-4" style="border-color: #E2E8F0; background-color: #FFFFFF;">
      <div class="flex items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium" style="color: #718096;">비디오</h3>
        <%= icon('video', class: 'h-4 w-4', style: 'color: #718096;') %>
      </div>
      <div class="text-2xl font-bold" style="color: #1A202C;"><%= @contents.where(content_type: 'video').count %></div>
    </div>
    
    <div class="rounded-lg border p-4" style="border-color: #E2E8F0; background-color: #FFFFFF;">
      <div class="flex items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium" style="color: #718096;">뉴스레터</h3>
        <%= icon('mail', class: 'h-4 w-4', style: 'color: #718096;') %>
      </div>
      <div class="text-2xl font-bold" style="color: #1A202C;"><%= @contents.where(content_type: 'newsletter').count %></div>
    </div>
  </div>

  <!-- Content Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <% @contents.each do |content| %>
      <div class="group relative rounded-lg border shadow-sm transition-all hover:shadow-md" style="border-color: #E2E8F0; background-color: #FFFFFF;">
        <%= link_to content_path(content), class: "block" do %>
          <!-- Content Type Icon Section -->
          <div class="aspect-video w-full overflow-hidden rounded-t-lg flex items-center justify-center" style="background-color: #F5F7FA;">
            <% case content.content_type %>
            <% when "video" %>
              <%= icon('player-play', class: 'h-12 w-12', style: 'color: #718096') %>
            <% when "newsletter" %>
              <%= icon('mail', class: 'h-12 w-12', style: 'color: #718096') %>
            <% else %>
              <%= icon('article', class: 'h-12 w-12', style: 'color: #718096') %>
            <% end %>
          </div>

          <!-- Content Section -->
          <div class="p-6">
            <!-- Tags -->
            <% if content.tags.any? %>
              <div class="flex flex-wrap gap-2 mb-3">
                <% content.tags.first(3).each do |tag| %>
                  <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2" style="background-color: #1EC7A6; color: #FFFFFF; --tw-ring-color: #1EC7A6;">
                    <%= tag.name %>
                  </span>
                <% end %>
                <% if content.tags.length > 3 %>
                  <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold" style="background-color: #F5F7FA; color: #718096;">
                    +<%= content.tags.length - 3 %>
                  </span>
                <% end %>
              </div>
            <% end %>

            <!-- Title -->
            <h3 class="font-bold leading-none tracking-tight text-xl mb-2 line-clamp-2 group-hover:opacity-80 transition-opacity" style="color: #1A202C; font-size: 18px; font-weight: 700; letter-spacing: -0.015em;">
              <%= content.title %>
            </h3>

            <!-- Description -->
            <p class="text-sm mb-4 line-clamp-3" style="color: #718096; line-height: 1.7;">
              <%= truncate(content.body, length: 120) %>
            </p>

            <!-- Meta Information -->
            <div class="flex items-center justify-between text-sm" style="color: #718096;">
              <div class="flex items-center space-x-2">
                <div class="flex items-center space-x-1">
                  <%= icon('user', class: 'h-4 w-4') %>
                  <span><%= content.user.present? ? "User ##{content.user.id}" : "Unknown" %></span>
                </div>
                <span>•</span>
                <div class="flex items-center space-x-1">
                  <%= icon('clock', class: 'h-4 w-4') %>
                  <time datetime="<%= content.created_at.iso8601 %>">
                    <%= time_ago_in_words(content.created_at) %> ago
                  </time>
                </div>
              </div>

              <!-- Content Type Label -->
              <div class="flex items-center space-x-2 text-xs">
                <% case content.content_type %>
                <% when "video" %>
                  <%= icon('video', class: 'h-4 w-4') %>
                  <span>Video</span>
                <% when "newsletter" %>
                  <%= icon('mail', class: 'h-4 w-4') %>
                  <span>Newsletter</span>
                <% when "column" %>
                  <%= icon('article', class: 'h-4 w-4') %>
                  <span>Column</span>
                <% else %>
                  <%= icon('file-text', class: 'h-4 w-4') %>
                  <span>Content</span>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>

        <!-- Action Buttons -->
        <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity">
          <div class="flex space-x-1">
            <!-- Edit Button -->
            <%= link_to edit_content_path(content), class: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-8 w-8 shadow-sm", style: "background-color: rgba(255,255,255,0.9); --tw-ring-color: #0052CC;" do %>
              <%= icon('edit', class: 'h-4 w-4', style: 'color: #718096') %>
            <% end %>
            
            <!-- Delete Button -->
            <%= link_to content_path(content), method: :delete, 
                data: { 
                  turbo_method: :delete,
                  turbo_confirm: "정말로 이 콘텐츠를 삭제하시겠습니까?" 
                },
                class: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-8 w-8 shadow-sm", 
                style: "background-color: rgba(255,255,255,0.9); --tw-ring-color: #E53E3E;" do %>
              <%= icon('trash', class: 'h-4 w-4', style: 'color: #E53E3E') %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Empty State -->
  <% if @contents.empty? %>
    <div class="text-center py-12">
      <div class="mx-auto max-w-md">
        <%= icon('file-plus', class: 'mx-auto h-12 w-12 mb-4', style: 'color: #718096;') %>
        <h3 class="mt-2 text-sm font-semibold" style="color: #1A202C;">콘텐츠가 없습니다</h3>
        <p class="mt-1 text-sm" style="color: #718096;">첫 번째 콘텐츠를 작성해보세요.</p>
        <div class="mt-6">
          <%= link_to new_content_path,
              class: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2",
              style: "background-color: #0052CC; color: #FFFFFF; --tw-ring-color: #0052CC;" do %>
            <%= icon('plus', class: 'h-4 w-4 mr-2') %>
            새 콘텐츠 작성
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
</div>